<app-header></app-header>

<nav class="nav sub-nav">
  <div class="container">
    <div class="nav-left">
      <span class="nav-item">
        <h1>Repositories</h1>
      </span>
    </div>
    <div class="nav-center"></div>
    <div class="nav-right">
      <div class="group-buttons">
        <button class="group-button is-active">Repositories</button>
        <button class="group-button">All Repositories</button>
      </div>
    </div>
  </div>
</nav>

<div class="container">
  <div class="columns">
    <div class="column is-12">
      <div class="content">
        <div *ngIf="loading">
          <img src="images/icons/flickr.svg" class="main-loader">
        </div>

        <div class="columns is-multiline" *ngIf="!loading">
          <div class="column is-12" *ngIf="!repositories || !repositories.length">
            <div class="notification">
              <span class="icon">
                <img src="images/icons/info.svg">
              </span>
              <span>No repositories found.</span>
            </div>
          </div>

          <div class="column is-12" *ngIf="repositories && repositories.length">
            <div class="columns list-item list-item-slim" *ngFor="let repo of repositories; let i = index;" (click)="gotoRepository($event, repo.id)">
              <div class="column is-3">
                <span class="icon">
                  <img src="images/icons/git-repository.svg">
                </span>
                <span class="bold">{{ repo.full_name }}</span>
              </div>
              <div class="column is-5">
                <span class="icon">
                  <img src="images/icons/github-white.svg">
                </span>
                <span>{{ repo.html_url }}</span>
              </div>
              <div class="column is-2">
                <span class="icon">
                  <img src="images/icons/git-branch.svg">
                </span>
                <span>{{ repo.default_branch }}</span>
              </div>
              <div class="column is-2">
                <img [src]="repo.status_badge">
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
