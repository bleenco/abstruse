<header class="nav main-nav is-hidden-mobile">
  <div class="container">
    <div class="nav-left">
      <a class="nav-item nav-logo" routerLink="/">
        <img src="/images/abstruse-text-logo.svg">
      </a>
    </div>
    <div class="nav-center">
      <a class="nav-item is-hidden-mobile" routerLink="/dashboard" routerLinkActive="is-active" name="dashboard" *ngIf="user || demo">
        <i class="ionicon ion-ios-pie"></i>
        <span>Dashboard</span>
      </a>
      <a class="nav-item nav-team is-hidden-mobile" routerLink="/team" routerLinkActive="is-active" *ngIf="user">
        <i class="ionicon ion-person-stalker"></i>
        <span>Team</span>
      </a>
      <a class="nav-item is-hidden-mobile" routerLink="/repositories" routerLinkActive="is-active">
        <i class="ionicon ion-ios-paper"></i>
        <span>Repositories</span>
      </a>
      <a class="nav-item is-hidden-mobile" routerLink="/images" routerLinkActive="is-active" *ngIf="user">
        <i class="ionicon ion-images"></i>
        <span>Images</span>
      </a>
    </div>
    <div class="nav-right">
      <!-- <a class="nav-item notification-item is-hidden-mobile" *ngIf="user" (click)="toggleNotify()">
        <img src="//images/icons/notification.svg">
        <div class="notify-num-container" *ngIf="notifications?.length">
          <span>{{ notifications?.length }}</span>
        </div>
        <div class="notification-dropdown" *ngIf="notifyDropped">
          <div class="notification-item" *ngFor="let notify of notifications; let i = index;">
            <span [ngClass]="{ error: notify.type === 'error' }">{{ notify.message }}</span>
          </div>
        </div>
      </a> -->

      <a class="nav-item user-item" (click)="toggleMenu()" [class.is-open]="menuDropped" *ngIf="user">
        <img class="nav-avatar" [src]="user.avatar">
        <i class="ion ion-chevron-down"></i>

        <div class="nav-dropdown" *ngIf="menuDropped">
          <a class="nav-dropdown-item" [routerLink]="['/user', user?.id]">
            Settings
          </a>
          <a class="nav-dropdown-item" routerLink="/logs">
            System Logs
          </a>
          <a class="nav-dropdown-item" (click)="logout()">
            Logout
          </a>
          <a class="version-link" href="https://github.com/bleenco/abstruse" target="_blank">
            Abstruse {{ version }}
          </a>
        </div>
      </a>

      <a class="nav-item" *ngIf="!user" routerLink="/login">
        <img src="/images/icons/login.svg" class="nav-item-icon">
        Login
      </a>
    </div>
  </div>
</header>

<!-- <div class="nav-header-context is-hidden-mobile">
  <div class="container">
    <a class="breadcrumb-item">
      <span>Builds</span>
    </a>
    <a class="breadcrumb-item">
      <span>Build Details</span>
    </a>
    <a class="breadcrumb-item">
      <span>Job</span>
    </a>
  </div>
</div> -->

<div class="mobile-switch-view is-hidden-tablet is-mobile is-mobile-only">
  <button type="button" (click)="switchToDesktopView()" *ngIf="view === 'mobile'">
    Switch to Desktop View
    <i class="ionicon ion-monitor"></i>
  </button>
  <button type="button" (click)="switchToMobileView()" *ngIf="view === 'desktop'">Switch to Mobile View</button>
</div>

<div class="mobile-nav is-hidden-tablet is-mobile is-mobile-only">
  <a routerLink="/">
    <img class="mobile-nav-logo" src="/images/abstruse-text-logo.svg">
  </a>
  <a routerLink="/login" *ngIf="!user">
    <i class="ionicon ion-log-in"></i>
  </a>
  <i class="ionicon ion-log-out" (click)="logout()" *ngIf="user"></i>
</div>
